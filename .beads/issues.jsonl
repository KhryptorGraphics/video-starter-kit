{"id":"LOCAL-3zp","title":"Test and fix NVIDIA Riva TTS integration","description":"Test the Riva TTS container on port 10004:\n1. Verify Riva container starts and initializes voices\n2. Test text-to-speech synthesis\n3. Map voice names from fal.ai format to Riva format\n4. Fix request/response format mapping\n5. Handle audio file serving","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T20:06:16.949856853-06:00","created_by":"kp","updated_at":"2026-01-11T20:06:16.949856853-06:00","labels":["integration","testing","tts"],"dependencies":[{"issue_id":"LOCAL-3zp","depends_on_id":"LOCAL-x8m","type":"blocks","created_at":"2026-01-11T20:07:10.158699841-06:00","created_by":"kp"}]}
{"id":"LOCAL-6zk","title":"Create systemd service for auto-start on boot","description":"Make local AI services start automatically on Jetson boot:\n1. Create systemd service file for docker-compose stack\n2. Configure proper startup dependencies (after docker, nvidia-container-runtime)\n3. Add log rotation for container logs\n4. Test auto-recovery on container failure","status":"closed","priority":3,"issue_type":"task","assignee":"claude","created_at":"2026-01-11T20:06:48.007004705-06:00","created_by":"kp","updated_at":"2026-01-11T20:47:12.426586258-06:00","closed_at":"2026-01-11T20:47:12.426586258-06:00","close_reason":"Created systemd service with: 1) local-ai.service file with proper dependencies (docker, nvidia-container-runtime), 2) logrotate config for container logs, 3) install-service.sh and uninstall-service.sh scripts","labels":["deployment","production","systemd"]}
{"id":"LOCAL-73k","title":"Setup conda environments for Video Starter Kit","description":"Create and configure conda environments for local AI services:\n\n**Existing (ready to use):**\n- comfyui: ComfyUI with Flux.1-dev\n- cosmos: NVIDIA Cosmos video generation\n- riva_thor: NVIDIA Riva TTS\n\n**New (create these):**\n- vsk-audiocraft: Meta Audiocraft/MusicGen\n- vsk-kokoro: Kokoro TTS (alternative)\n\nAll environments must have CUDA 13 support. NO Docker containers.","notes":"## Progress - 2026-01-13\n\n### Phase 1-5: COMPLETE\n- vsk-audiocraft env: Created, MusicGen working on CUDA\n- vsk-kokoro env: Created, Kokoro TTS working on CUDA\n- FastAPI services: Created all wrappers\n- Systemd services: Installed and running\n- Gateway: Fixed MEDIA_DIR, routing to services\n\n### Working Services (all healthy):\n- Gateway (10000): healthy\n- Audiocraft (10003): healthy, CUDA\n- Kokoro TTS (10005): healthy, CUDA\n- TTS Router (10004): healthy, active_backend=kokoro\n\n### API Testing: PASSED\n- TTS via gateway: POST /fal-ai/playht/tts/v3 → 24kHz WAV\n- Music via gateway: POST /fal-ai/minimax-music → 32kHz WAV\n\n### Blocking Issues (separate beads tasks):\n- LOCAL-ibz: ComfyUI app not installed (conda env exists)\n- LOCAL-aex: Cosmos PyTorch lib corrupted (libcurand.so.10)\n\n### Remaining:\n- Browser automation deferred until ComfyUI/Cosmos fixed\n- Frontend testing requires all services","status":"in_progress","priority":0,"issue_type":"task","assignee":"claude","created_at":"2026-01-11T20:30:20.203106192-06:00","created_by":"kp","updated_at":"2026-01-13T20:58:42.786998554-06:00","labels":["blocker","containers","cuda","jetson"]}
{"id":"LOCAL-7f8","title":"Test and fix NVIDIA Cosmos video generation integration","description":"Test the Cosmos container on port 10002:\n1. Verify container starts and model loads\n2. Test text-to-video generation\n3. Test image-to-video generation\n4. Fix request/response format mapping in gateway\n5. Handle video file serving and URL generation","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-11T20:06:12.959857234-06:00","created_by":"kp","updated_at":"2026-01-11T20:06:12.959857234-06:00","labels":["integration","testing","video-generation"],"dependencies":[{"issue_id":"LOCAL-7f8","depends_on_id":"LOCAL-x8m","type":"blocks","created_at":"2026-01-11T20:07:05.513602734-06:00","created_by":"kp"}]}
{"id":"LOCAL-aex","title":"Fix Cosmos PyTorch corruption","description":"The cosmos conda environment has a corrupted libcurand.so.10:\nImportError: /home/kp/anaconda3/envs/cosmos/lib/python3.10/site-packages/torch/lib/../../nvidia/cu13/lib/libcurand.so.10: invalid ELF header\n\nSteps:\n1. Uninstall PyTorch: pip uninstall torch torchvision torchaudio\n2. Clean pip cache: pip cache purge\n3. Reinstall PyTorch with CUDA 13: pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu130\n4. Verify: python -c \"import torch; print(torch.cuda.is_available())\"","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-13T20:54:22.715977152-06:00","updated_at":"2026-01-13T20:54:22.715977152-06:00"}
{"id":"LOCAL-ccn","title":"Add static file serving for generated media","description":"The gateway needs to serve generated files (images, videos, audio) so the frontend can access them:\n1. Add a /files endpoint to serve static files from a shared volume\n2. Update docker-compose to mount a shared media volume\n3. Modify gateway to return proper file URLs\n4. Configure CORS for file access","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-11T20:06:39.133917046-06:00","created_by":"kp","updated_at":"2026-01-11T20:33:04.179977084-06:00","closed_at":"2026-01-11T20:33:04.179977084-06:00","close_reason":"Implemented in gateway/main.py: /files/{file_path:path} endpoint serves from MEDIA_DIR and ComfyUI output. Shared volume configured in docker-compose.yml.","labels":["file-serving","gateway"]}
{"id":"LOCAL-cvl","title":"End-to-end testing of complete workflow","description":"Test the complete video creation workflow locally:\n1. Generate an image with Flux\n2. Generate a video from the image with Cosmos\n3. Generate music with Stable Audio\n4. Generate voiceover with Riva\n5. Compose all media in the timeline\n6. Export final video","acceptance_criteria":"All 4 AI generation types work. Timeline composition works. Video export succeeds.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-11T20:06:50.592405015-06:00","created_by":"kp","updated_at":"2026-01-11T20:06:50.592405015-06:00","labels":["e2e","testing","validation"],"dependencies":[{"issue_id":"LOCAL-cvl","depends_on_id":"LOCAL-tpn","type":"blocks","created_at":"2026-01-11T20:07:11.932532255-06:00","created_by":"kp"},{"issue_id":"LOCAL-cvl","depends_on_id":"LOCAL-7f8","type":"blocks","created_at":"2026-01-11T20:07:14.226126545-06:00","created_by":"kp"}]}
{"id":"LOCAL-dk7","title":"Test and fix Stable Audio music generation integration","description":"Test the Stable Audio container on port 10003:\n1. Verify container starts correctly\n2. Test music generation with text prompts\n3. Fix request/response format mapping\n4. Handle audio file serving and URL generation","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-11T20:06:14.739831108-06:00","created_by":"kp","updated_at":"2026-01-11T20:06:14.739831108-06:00","labels":["audio-generation","integration","testing"],"dependencies":[{"issue_id":"LOCAL-dk7","depends_on_id":"LOCAL-x8m","type":"blocks","created_at":"2026-01-11T20:07:07.87185268-06:00","created_by":"kp"}]}
{"id":"LOCAL-ibz","title":"Install ComfyUI application code","description":"The comfyui conda environment exists at /home/kp/anaconda3/envs/comfyui but the ComfyUI application itself is not installed. Need to clone from GitHub and set up at /home/kp/ComfyUI.\n\nSteps:\n1. git clone https://github.com/comfyanonymous/ComfyUI.git /home/kp/ComfyUI\n2. Install dependencies in comfyui conda env\n3. Download required models (Flux.1-dev)\n4. Test standalone before systemd service","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-13T20:54:21.236390308-06:00","updated_at":"2026-01-13T20:54:21.236390308-06:00"}
{"id":"LOCAL-jlx","title":"Add UI indicator for local AI mode","description":"Show users when they're using local AI vs cloud:\n1. Add badge/indicator in the UI showing \"Local AI\" mode\n2. Show which local models are available\n3. Add settings panel option to toggle between local/cloud","status":"closed","priority":3,"issue_type":"feature","assignee":"claude","created_at":"2026-01-11T20:06:45.385737097-06:00","created_by":"kp","updated_at":"2026-01-11T20:45:44.585639075-06:00","closed_at":"2026-01-11T20:45:44.585639075-06:00","close_reason":"Implemented all requirements: 1) Added Local AI/Cloud badge in header with tooltip showing gateway URL, 2) Updated settings dialog to show local services health status with refresh, 3) Settings panel now switches between local AI config and cloud FAL key based on mode","labels":["ui","user-experience"]}
{"id":"LOCAL-ksu","title":"Add health check endpoints for all containers","description":"Add health monitoring:\n1. Add /health endpoint to gateway that checks all backend services\n2. Add healthcheck configs to docker-compose.yml\n3. Create status dashboard or CLI command to check service health","status":"closed","priority":2,"issue_type":"task","assignee":"claude","created_at":"2026-01-11T20:06:42.872371279-06:00","created_by":"kp","updated_at":"2026-01-11T20:42:06.266983955-06:00","closed_at":"2026-01-11T20:42:06.266983955-06:00","close_reason":"All health check requirements implemented: /health/detailed endpoint in gateway, healthcheck configs for all containers in docker-compose.yml, and check-health.sh CLI script","labels":["health-check","monitoring"]}
{"id":"LOCAL-tpn","title":"Test and fix Flux.1-dev container integration","description":"Test the Flux.1-dev container on port 10001:\n1. Verify container starts correctly\n2. Test the /txt2img endpoint with a sample prompt\n3. Fix request/response format mapping in gateway/routes.py\n4. Ensure output URLs are accessible from frontend","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-11T20:06:11.128890616-06:00","created_by":"kp","updated_at":"2026-01-11T20:06:11.128890616-06:00","labels":["image-generation","integration","testing"],"dependencies":[{"issue_id":"LOCAL-tpn","depends_on_id":"LOCAL-x8m","type":"blocks","created_at":"2026-01-11T20:07:02.946407272-06:00","created_by":"kp"}]}
{"id":"LOCAL-x8m","title":"Verify and pull container images for Jetson Thor","description":"Verify that all container images in docker-compose.yml are available for Jetson Thor (aarch64/JetPack 7.4). Research and update image tags if needed:\n- dustynv/flux:dev-r36.4.0 (Flux.1-dev)\n- nvcr.io/nim/nvidia/cosmos-1.0-diffusion-7b-text2world (Cosmos)\n- dustynv/stable-audio:r36.4.0 (Stable Audio)\n- nvcr.io/nvidia/riva/riva-speech (Riva TTS)","notes":"## Progress\nImages pulled successfully:\n- dustynv/comfyui:r36.4.3 (13.9GB)\n- dustynv/audiocraft:r36.3.0 (15.1GB)\n- dustynv/cosmos:r36.4.3-cu128-24.04 (13.8GB)\n- dustynv/kokoro-tts:fastapi-r36.4.0-cu128-24.04 (11.6GB)\n\n## BLOCKER: CUDA 13 Incompatibility\nHost system: L4T R38.4.0 / JetPack 7.4 / CUDA 13.0 / Driver 580.00\nContainers: Built for R36.x / CUDA 12.8\n\nAll containers fail with:\n```\nRuntimeError: Unexpected error from cudaGetDeviceCount(). \nError 801: operation not supported\n```\n\nThis is a fundamental CUDA forward-compatibility issue - PyTorch binaries compiled for CUDA 12.x cannot initialize on CUDA 13.0 drivers.\n\n## Workarounds to Try\n1. Build containers locally using jetson-containers for R38\n2. Wait for dustynv to release R38-compatible containers\n3. Check if containers can run CPU-only mode (slow)\n\n## Files Updated\n- docker-compose.yml: New images, privileged mode, audiocraft script\n- audiocraft_server.py: Standalone Gradio server for MusicGen\n- gateway/routes.py: Updated container URLs\n- gateway/main.py: ComfyUI workflow generation, file serving","status":"blocked","priority":1,"issue_type":"task","assignee":"claude","created_at":"2026-01-11T20:06:08.942063998-06:00","created_by":"kp","updated_at":"2026-01-11T20:30:10.700206792-06:00","labels":["containers","infrastructure","jetson"],"dependencies":[{"issue_id":"LOCAL-x8m","depends_on_id":"LOCAL-73k","type":"blocks","created_at":"2026-01-11T20:30:26.017709183-06:00","created_by":"kp"}]}
